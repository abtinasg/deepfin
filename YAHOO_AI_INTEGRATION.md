# Yahoo Finance Data Integration for AI System

## โ ุงุถุงูู ุดุฏู

ุณุณุชู AI ุญุงูุง **ููุท ุงุฒ ุฏุงุฏูโูุง ุฒูุฏู Yahoo Finance** ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุดูุง ุจู ุขู ูโุฏูุฏ.

### ูุงูโูุง ุฌุฏุฏ:

1. **`src/lib/ai/yahoo-data-formatter.ts`**
   - ูุฑูุช ฺฉุฑุฏู ุฏุงุฏูโูุง Yahoo Finance ุจุฑุง AI
   - ููุงุด ููุช ูุนูุ ุญุฌู ูุนุงููุงุชุ ูุงูฺฏูโูุง ูุชุญุฑฺฉ
   - ุฏุงุฏูโูุง ุชุงุฑุฎ (1 ุฑูุฒ ุชุง 1 ุณุงู)
   - ูุณุจุชโูุง ูุงู (P/E, P/B, Beta, etc.)

### ุจูโุฑูุฒุฑุณุงู ุดุฏู:

2. **`src/app/api/ai/chat/route.ts`**
   - ุฏุฑุงูุช ุฎูุฏฺฉุงุฑ ุฏุงุฏูโูุง Yahoo Finance
   - ูพุงุฑุงูุชุฑูุง ุฌุฏุฏ:
     - `includeHistorical`: ุดุงูู ฺฉุฑุฏู ุฏุงุฏูโูุง ุชุงุฑุฎ
     - `historicalPeriod`: ุฏูุฑู ุฒูุงู (1d, 5d, 1mo, 3mo, 6mo, 1y)
   - ุฏุณุชูุฑ ุณุณุชู: "ุงุณุชูุงุฏู **ููุท** ุงุฒ ุฏุงุฏูโูุง Yahoo Finance"

3. **`src/components/ai/AIChat.tsx`**
   - ฺฺฉโุจุงฺฉุณ ุจุฑุง ุฏุงุฏูโูุง ุชุงุฑุฎ
   - ุงูุชุฎุงุจ ุฏูุฑู ุฒูุงู
   - ููุงุด ูุดุฏุงุฑ: "AI ููุท ุงุฒ ุฏุงุฏู ุฒูุฏู ุงุณุชูุงุฏู ูโฺฉูุฏ"

---

## ๐ฏ ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ:

### ูุจู (ูุดฺฉู):
```
ฺฉุงุฑุจุฑ: "ููุช TSLA ฺุทูุฑูุ"
AI: ุงุฒ ุฏุงูุด ูุจู ุฎูุฏ ุงุณุชูุงุฏู ูโฺฉูุฏ (ูุฏู/ูุงุฏุฑุณุช) โ
```

### ุงูุงู (ุฏุฑุณุช):
```
ฺฉุงุฑุจุฑ: "ููุช TSLA ฺุทูุฑูุ" + Ticker: TSLA
ุณุณุชู:
  1. ุฏุฑุงูุช ุฏุงุฏู ุฒูุฏู ุงุฒ Yahoo Finance
  2. ูุฑูุช ฺฉุฑุฏู ุจู ุตูุฑุช ุณุงุฎุชุงุฑุงูุชู
  3. ุงุฑุณุงู ุจู AI ุจุง ุฏุณุชูุฑ: "ููุท ุงุฒ ุงู ุฏุงุฏู ุงุณุชูุงุฏู ฺฉู"
AI: ุชุญูู ุจุฑ ุงุณุงุณ ุฏุงุฏู ูุงูุน ($245.50, +2.3%, ...) โ
```

---

## ๐ ูุซุงู ุฏุงุฏู ูุฑูุช ุดุฏู:

```
โ๏ธ IMPORTANT INSTRUCTION FOR AI MODEL:
Use ONLY the live data provided below from Yahoo Finance.
Do NOT use your own knowledge or outdated information.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

=== LIVE YAHOO FINANCE DATA (Retrieved: 2025-11-24T10:30:00Z) ===

Symbol: TSLA

CURRENT PRICE DATA:
- Current Price: $245.50
- Change: +$5.20 (+2.16%)
- Previous Close: $240.30

TODAY'S TRADING:
- Open: $242.10
- Day High: $247.80
- Day Low: $240.50
- Volume: 125,430,000
- Average Volume: 98,500,000 (Today is 27.3% vs avg)

52-WEEK RANGE:
- 52-Week High: $299.29
- 52-Week Low: $152.37
- Distance from High: -18.0%
- Distance from Low: +61.1%

MOVING AVERAGES:
- 50-Day MA: $238.45 (Price is 2.96% above)
- 200-Day MA: $220.80 (Price is 11.18% above)

VALUATION METRICS:
- Market Cap: $778.50B
- P/E Ratio (TTM): 68.45
- Forward P/E: 52.30
- EPS (TTM): $3.59

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

USER QUESTION:
ุขุง ุงูุงู ููุช ุฎูุจ ุจุฑุง ุฎุฑุฏ TSLA ุงุณุชุ

ANALYSIS REQUIREMENTS:
1. Use ONLY the Yahoo Finance data provided above
2. Do NOT reference any external knowledge or data
3. Cite specific numbers from the data when making points
4. If data is missing, state "Data not available"
```

---

## ๐ ุงุณุชูุงุฏู:

### ุฏุฑ UI (`/dashboard/ai`):

1. **ุณูุงู ุฑุง ุจูพุฑุณุฏ**: "ุชุญูู ููุช ูุนู"
2. **Ticker ุฑุง ูุงุฑุฏ ฺฉูุฏ**: TSLA
3. **(ุงุฎุชุงุฑ) ุฏุงุฏู ุชุงุฑุฎ ุฑุง ูุนุงู ฺฉูุฏ**
4. **ุฏูุฑู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ**: 1 ูุงู
5. **ุงุฑุณุงู**

AI ูพุงุณุฎ ูโุฏูุฏ ุจุง ุงุณุชูุงุฏ ุจู ุฏุงุฏูโูุง ูุงูุน Yahoo:
```
ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง Yahoo Finance:
- ููุช ูุนู $245.50 ุงุณุช ฺฉู 2.96% ุจุงูุงุชุฑ ุงุฒ ูุงูฺฏู 50 ุฑูุฒู ($238.45)
- ุญุฌู ูุนุงููุงุช ุงูุฑูุฒ 27.3% ุจุงูุงุชุฑ ุงุฒ ูุงูฺฏู ุงุณุช ฺฉู ูุดุงูโุฏููุฏู...
- ููุช 18% ุฒุฑ ุณูู 52 ููุชูโุง ($299.29) ุงุณุช...
```

### ุงุฒ API:

```typescript
const response = await fetch('/api/ai/chat', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    query: 'ุขุง ุงูุงู ููุช ุฎูุจ ุจุฑุง ุฎุฑุฏ ุงุณุชุ',
    ticker: 'TSLA',
    mode: 'claude',
    includeHistorical: true,
    historicalPeriod: '3mo' // 3 ูุงู ฺฏุฐุดุชู
  })
});
```

---

## โก ุชุณุช ฺฉูุฏ:

```bash
# ุณุฑูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ
npm run dev

# ุจู ุตูุญู AI ุจุฑูุฏ
open http://localhost:3000/dashboard/ai

# ุชุณุช ฺฉูุฏ:
Query: "ููุช ูุนู ฺุทูุฑ ุงุณุชุ"
Ticker: AAPL
โ Include Historical Data
Period: 1 Month
```

---

## ๐ฏ ูุฒุงุง:

โ **ุฏูู**: ุฏุงุฏู ูุงูุน ูุญุธูโุง ุงุฒ Yahoo Finance  
โ **ูุงุจู ุงุนุชูุงุฏ**: AI ููโุชูุงูุฏ ุงุฒ ุฏุงูุด ูุฏู ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ  
โ **ุดูุงู**: ุชูุงู ุงุนุฏุงุฏ ูุงุจู ุชุฃุฏ ูุณุชูุฏ  
โ **ฺฉุงูู**: ููุช + ุญุฌู + MA + ูุณุจุชโูุง ูุงู + ุชุงุฑุฎฺู  
โ **ุฑุงฺฏุงู**: Yahoo Finance API ุฑุงฺฏุงู ุงุณุช  

---

**ูุถุนุช: โ ุขูุงุฏู ุงุณุชูุงุฏู**
